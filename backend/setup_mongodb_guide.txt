# HƯỚNG DẪN SETUP MONGODB ATLAS
# Cho dự án E-Learning Platform

## ✅ ĐÃ HOÀN THÀNH:
- Tạo MongoDB Atlas account
- Tạo database user: elearning_user
- Password: anhkhoadeptrai

## 🔄 BƯỚC TIẾP THEO:

### 1. Lấy Connection String:
- Vào MongoDB Atlas Dashboard
- Click "Connect" trên cluster
- Chọn "Connect your application"
- Copy connection string
- Thay thế <password> bằng: anhkhoadeptrai

### 2. Tạo file .env:
Tạo file backend/.env với nội dung:
```
MONGODB_URL=mongodb+srv://elearning_user:anhkhoadeptrai@cluster0.xxxxx.mongodb.net/
MONGODB_DATABASE=elearning_platform
MONGODB_USERNAME=elearning_user
MONGODB_PASSWORD=anhkhoadeptrai
MONGODB_AUTH_SOURCE=admin
SECRET_KEY=your-secret-key-change-this-in-production-12345
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
BACKEND_CORS_ORIGINS=["http://localhost:3000", "http://localhost:3001"]
ENVIRONMENT=development
LOG_LEVEL=INFO
```

### 3. Cài đặt dependencies:
```bash
cd backend
pip install -r requirements.txt
```

### 4. Test kết nối:
```bash
python test_mongodb.py
```

### 5. Chạy server:
```bash
python run_mongodb.py
```

## 🔧 CẤU HÌNH ATLAS:

### Network Access:
- Thêm IP: 0.0.0.0/0 (cho development)
- Hoặc thêm IP máy tính của bạn

### Database Access:
- User: elearning_user
- Password: anhkhoadeptrai
- Role: Read and write to any database

## 🧪 TEST API:

### Health Check:
```bash
curl http://localhost:8000/health
```

### Register User:
```bash
curl -X POST "http://localhost:8000/api/v1/auth/register" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@demo.com",
    "username": "admin",
    "full_name": "Admin User",
    "password": "admin123",
    "is_instructor": false
  }'
```

### Login:
```bash
curl -X POST "http://localhost:8000/api/v1/auth/login" \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "username=admin@demo.com&password=admin123"
```

## 🚨 LƯU Ý BẢO MẬT:
- Không commit file .env vào Git
- Thay đổi password trong production
- Sử dụng environment variables
- Backup credentials an toàn

## 📞 HỖ TRỢ:
Nếu gặp lỗi, kiểm tra:
1. Connection string đúng format
2. Network access trong Atlas
3. Database user permissions
4. Dependencies đã cài đặt
5. Python version compatibility
